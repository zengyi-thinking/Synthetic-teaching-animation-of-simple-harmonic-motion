# 简谐振动与音乐可视化教学系统

## 项目概述

这个项目将简谐振动原理与音乐和音频处理相结合，创建一个互动式教学系统，帮助学生理解简谐振动、波的合成与音乐之间的关系。系统不仅可以可视化简谐振动，还能实时生成相应的音频，实现"所见即所闻"的教学效果。

## 核心功能

1. **简谐振动可视化**：展示单一和复合简谐振动的波形、相位关系等
2. **实时音频生成**：根据可视化的简谐振动参数生成对应的音频
3. **音乐理论映射**：展示简谐振动与音乐理论(音高、和弦、音色等)的对应关系
4. **交互式实验**：允许用户调整振动参数，立即听到和看到效果变化
5. **音乐可视化**：显示音频的频谱与简谐分量
6. **教学场景模拟**：预设不同的教学场景和演示
7. **结果导出**：将分析结果导出为图像
8. **教学指南**：提供各种现象的物理解释和教学提示

## 技术架构

- **前端**：PyQt6 提供图形界面
- **可视化**：Matplotlib 进行波形和频谱可视化
- **音频处理**：使用 sounddevice、scipy 和 librosa 生成和分析音频
- **数据处理**：numpy 用于数值计算，scipy 用于信号处理

## 模块设计

1. **核心引擎 (harmonic_core.py)**：振动计算与音频映射的核心逻辑
2. **音频引擎 (audio_engine.py)**：音频生成与处理
3. **音频分析器 (audio_analyzer.py)**：音频分析和分解
4. **视觉引擎 (visualization_engine.py)**：波形和频谱可视化
5. **UI 模块 (audio_analysis_ui.py)**：用户界面与交互
6. **应用封装 (app.py)**：整合所有组件的应用程序

## 教学场景示例

系统提供了多种预设案例，按类别组织：

### 音高示例

- 单音 (A4, C4 等)：展示单一频率简谐振动

### 和弦示例

- C 大三和弦、G 大三和弦：展示多个频率简谐振动的叠加

### 音程示例

- 纯八度、纯五度、大三度等：展示不同音程关系的振动

### 拍现象示例

- 不同频率差的拍现象：展示接近频率产生的拍

### 谐波示例

- 谐波级数：展示谐波与音色的关系

### 音色模拟示例

- 钢琴、小提琴、长笛音色模拟：展示不同乐器的谐波特性

## 功能特点

- **频谱分析**：自动检测和标记主要频率成分
- **波形缩放**：可调整显示的时间范围
- **教学提示**：根据当前实验提供相关物理和音乐理论知识
- **导出功能**：将分析结果保存为图像
- **帮助系统**：提供完整的使用指南和教学参考

## 技术依赖

- Python 3.8+
- PyQt6
- Matplotlib
- NumPy
- SciPy
- sounddevice
- librosa

## 使用方法

1. 安装依赖：`pip install -r requirements.txt`
2. 运行程序：`python run.py`
3. 选择预设音频示例
4. 点击"分析"按钮进行音频分析
5. 使用"播放"按钮聆听音频
6. 使用"导出结果"保存分析图表
